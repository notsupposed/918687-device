window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);const ESC_KEY_CODE=27,feedbackModal=document.querySelector(".modal-feedback"),feedbackOpenButton=document.querySelector(".contacts a.button"),feedbackForm=document.querySelector("form.feedback-form"),feedbackInputs=document.querySelectorAll(".feedback-form .js-validation"),feedbackSubmitButton=document.querySelector('.feedback-form button[type="submit"]'),feedbackCloseButton=document.querySelector(".modal-feedback .modal-close"),mapModal=document.querySelector(".modal-map"),mapOpenButton=document.querySelector(".contacts a.map"),mapCloseButton=document.querySelector(".modal-map .modal-close"),serviceButtons=document.querySelectorAll(".button-service"),serviceSlides=document.querySelectorAll(".service"),sliderButtons=document.querySelectorAll(".slider-controls i"),sliderSlides=document.querySelectorAll(".slider-item");function animateModalShow(modal){setAnimationClass(modal,"modal-show-animation",300)}function enableValidationHightlight(){feedbackInputs.forEach(function(input){input.classList.add("hightlight-invalid")})}function disableValidationHightligh(){feedbackInputs.forEach(function(input){input.classList.remove("hightlight-invalid")})}function openFeedbackModal(){feedbackModal.classList.add("modal-show")}function closeFeedbackModal(){feedbackModal.classList.remove("modal-show")}function animateFeedbackInvalid(){setAnimationClass(feedbackModal,"form-invalid-animation",300)}function openMapModal(){mapModal.classList.add("modal-show")}function closeMapModal(){mapModal.classList.remove("modal-show")}function closeVisibleModal(){const visibleModal=document.querySelector(".modal-show");return!!visibleModal&&(visibleModal.classList.remove("modal-show"),!0)}function switchServiceSlide(serviceName){const targetButtonSelector='.button-service[data-service-name="'+serviceName+'"]',targetButton=document.querySelector(targetButtonSelector),targetServiceSelector='.service[data-service-name="'+serviceName+'"]',targetSlide=document.querySelector(targetServiceSelector);targetButton&&targetSlide&&(switchCurrentElement(serviceButtons,targetButton,"button-service-current"),switchCurrentElement(serviceSlides,targetSlide,"current-service"))}function switchSliderSlide(slideId){const targetButtonSelector='.slider-controls i[data-slide="'+slideId+'"]',targetButton=document.querySelector(targetButtonSelector),targetSlideSelector='.slider-item[data-slide="'+slideId+'"]',targetSlide=document.querySelector(targetSlideSelector);targetButton&&targetSlide&&(switchCurrentElement(sliderButtons,targetButton,"current"),switchCurrentElement(sliderSlides,targetSlide,"slider-item-current"))}function setAnimationClass(element,classname,ttl){classname=classname||"",ttl=ttl>0?ttl:1e3;const classList=element&&element.classList;classList&&classList.add&&(classList.add(classname),window.setTimeout(function(){classList.remove(classname)},ttl))}function switchCurrentElement(elementsInGroup,currentElement,className){elementsInGroup.forEach(function(element){element.classList.remove(className)}),currentElement.classList.add(className)}window.addEventListener("keydown",function(e){if(27!==e.keyCode)return;const isHandled=closeVisibleModal();isHandled&&e.preventDefault()}),feedbackOpenButton.addEventListener("click",function(e){e.preventDefault(),disableValidationHightligh(),animateModalShow(feedbackModal),openFeedbackModal()}),feedbackSubmitButton.addEventListener("click",function(e){const isFormValid=feedbackForm.reportValidity();isFormValid||(enableValidationHightlight(),animateFeedbackInvalid())}),feedbackCloseButton.addEventListener("click",function(e){closeFeedbackModal()}),mapOpenButton.addEventListener("click",function(e){animateModalShow(mapModal),openMapModal(),e.preventDefault()}),mapCloseButton.addEventListener("click",function(e){closeMapModal()}),serviceButtons.forEach(function(button){button.addEventListener("click",function(e){const serviceName=e.target.dataset.serviceName;switchServiceSlide(serviceName)})}),sliderButtons.forEach(function(button){button.addEventListener("click",function(e){const slideId=e.target.dataset.slide;switchSliderSlide(slideId)})});